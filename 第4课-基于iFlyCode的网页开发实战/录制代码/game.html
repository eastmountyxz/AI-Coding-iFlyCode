<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯¾å ‚äº’åŠ¨æŠ½å¥–ç³»ç»Ÿ</title>
    <style>
        /* å…¨å±€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            text-align: center;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        /* è½¬ç›˜åŒºåŸŸæ ·å¼ */
        .wheel-container {
            position: relative;
            width: 90vw;
            max-width: 500px;
            aspect-ratio: 1/1;
            margin-bottom: 30px;
        }
        
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: white;
            border: 8px solid #3498db;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 5s cubic-bezier(0.17, 0.67, 0.83, 0.67); /* å¹³æ»‘çš„å‡é€Ÿæ•ˆæœ */
        }
        
        .segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            padding: 5px;
        }
        
        /* æŒ‰é’®åŒºåŸŸæ ·å¼ */
        .button-area {
            margin: 20px 0;
        }
        
        #startBtn {
            padding: 12px 30px;
            font-size: 1.2rem;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        #startBtn:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }
        
        #startBtn:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* ç»“æœæ˜¾ç¤ºåŒºåŸŸæ ·å¼ */
        .result-area {
            margin-top: 30px;
            text-align: center;
        }
        
        #resultText {
            font-size: 2rem;
            font-weight: bold;
            color: #e74c3c;
            padding: 15px 30px;
            background-color: rgba(255,255,255,0.9);
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 600px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .wheel-container {
                width: 95vw;
            }
            
            #resultText {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ‰ è¯¾å ‚äº’åŠ¨æŠ½å¥–ç³»ç»Ÿ ğŸ‰</h1>
        
        <!-- è½¬ç›˜åŒºåŸŸ -->
        <div class="wheel-container">
            <div id="wheel" class="wheel"></div>
        </div>
        
        <!-- æ“ä½œæŒ‰é’®åŒº -->
        <div class="button-area">
            <button id="startBtn">å¼€å§‹æŠ½å¥–</button>
        </div>
        
        <!-- ç»“æœæ˜¾ç¤ºåŒº -->
        <div class="result-area">
            <div id="resultText">ç­‰å¾…æŠ½å¥–...</div>
        </div>
    </div>

    <script>
        // å­¦ç”Ÿåå•æ•°ç»„ï¼ˆå…±20äººï¼‰
        const students = [
            "å¼ ä¸‰", "æå››", "ç‹äº”", "èµµå…­", "é’±ä¸ƒ", "å­™å…«", "å‘¨ä¹", "å´å",
            "éƒ‘åä¸€", "ç‹åäºŒ", "å†¯åä¸‰", "é™ˆåå››", "è¤šåäº”", "å«åå…­", "è’‹åä¸ƒ", "æ²ˆåå…«",
            "éŸ©åä¹", "æ¨äºŒå", "æœ±äºŒä¸€", "ç§¦äºŒäºŒ"
        ];
        
        // è·å–DOMå…ƒç´ 
        const wheel = document.getElementById('wheel');
        const startBtn = document.getElementById('startBtn');
        const resultText = document.getElementById('resultText');
        
        // å½“å‰å¯ç”¨çš„å­¦ç”Ÿåˆ—è¡¨ï¼ˆåˆå§‹ä¸ºå…¨éƒ¨å­¦ç”Ÿï¼‰
        let availableStudents = [...students];
        
        // åˆå§‹åŒ–è½¬ç›˜æ‰‡åŒº
        function initWheel() {
            wheel.innerHTML = ''; // æ¸…ç©ºç°æœ‰å†…å®¹
            
            const count = availableStudents.length;
            const angleStep = 360 / count; // æ¯ä¸ªæ‰‡åŒºçš„è§’åº¦é—´éš”
            
            for (let i = 0; i < count; i++) {
                const segment = document.createElement('div');
                segment.className = 'segment';
                
                // è®¡ç®—æ—‹è½¬è§’åº¦ä½¿æ–‡æœ¬æœå¤–æ˜¾ç¤º
                const rotateAngle = i * angleStep + angleStep / 2;
                segment.style.transform = `rotate(${rotateAngle}deg)`;
                
                // è®¾ç½®èƒŒæ™¯è‰²äº¤æ›¿å˜åŒ–ä»¥ä¾¿åŒºåˆ†ä¸åŒæ‰‡åŒº
                const hue = (i * 30) % 360; // ä½¿ç”¨HSLè‰²å½©æ¨¡å‹åˆ›å»ºå½©è™¹æ•ˆæœ
                segment.style.backgroundColor = `hsl(${hue}, 70%, 85%)`;
                
                // æ·»åŠ å­¦ç”Ÿå§“ååˆ°æ‰‡åŒºå†…
                const studentName = document.createElement('span');
                studentName.textContent = availableStudents[i];
                studentName.style.transform = `rotate(${-rotateAngle}deg)`; // åå‘æ—‹è½¬ä¿æŒæ–‡å­—æ­£å‘
                segment.appendChild(studentName);
                
                wheel.appendChild(segment);
            }
        }
        
        // å¼€å§‹æŠ½å¥–å‡½æ•°
        function startLottery() {
            // å¦‚æœå·²ç»æ²¡æœ‰å‰©ä½™å­¦ç”Ÿå¯æŠ½ï¼Œåˆ™ç¦ç”¨æŒ‰é’®å¹¶æç¤º
            if (availableStudents.length === 0) {
                resultText.textContent = "æ‰€æœ‰åŒå­¦éƒ½å·²ä¸­å¥–ï¼";
                startBtn.disabled = true;
                return;
            }
            
            // ç¦ç”¨æŒ‰é’®é˜²æ­¢é‡å¤ç‚¹å‡»
            startBtn.disabled = true;
            resultText.textContent = "æŠ½å¥–ä¸­...";
            
            // éšæœºå†³å®šåœæ­¢çš„ä½ç½®ï¼ˆå¯¹åº”å“ªä¸ªå­¦ç”Ÿä¼šè¢«é€‰ä¸­ï¼‰
            const randomIndex = Math.floor(Math.random() * availableStudents.length);
            const winner = availableStudents[randomIndex];
            
            // è®¡ç®—éœ€è¦æ—‹è½¬çš„æ€»åœˆæ•°+åç§»é‡ä»¥ç¡®ä¿åœåœ¨æ­£ç¡®ä½ç½®
            // åŸºç¡€æ—‹è½¬åœˆæ•°ï¼ˆè‡³å°‘3åœˆä¿è¯è§†è§‰æ•ˆæœï¼‰+ æ ¹æ®æ‰€é€‰ç´¢å¼•è°ƒæ•´æœ€ç»ˆä½ç½®
            const baseRotations = 3; // è‡³å°‘è½¬3åœˆ
            const targetRotation = baseRotations * 360 + (360 - (randomIndex * (360 / availableStudents.length)));
            
            // åº”ç”¨CSSåŠ¨ç”»ä½¿è½¬ç›˜æ—‹è½¬åˆ°ç›®æ ‡è§’åº¦
            wheel.style.transform = `rotate(${targetRotation}deg)`;
            
            // 5ç§’åæ˜¾ç¤ºç»“æœï¼ˆä¸CSSåŠ¨ç”»æŒç»­æ—¶é—´åŒ¹é…ï¼‰
            setTimeout(() => {
                // ä»å¯ç”¨åˆ—è¡¨ä¸­ç§»é™¤å·²ä¸­å¥–çš„å­¦ç”Ÿ
                availableStudents.splice(randomIndex, 1);
                
                // æ›´æ–°ç»“æœæ˜¾ç¤ºåŒº
                resultText.innerHTML = `âœ… ${winner}`;
                
                // é‡æ–°æ¸²æŸ“è½¬ç›˜ä»¥åæ˜ å‰©ä½™çš„å­¦ç”Ÿ
                initWheel();
                
                // å¦‚æœè¿˜æœ‰å‰©ä½™å­¦ç”Ÿï¼Œåˆ™é‡æ–°å¯ç”¨æŒ‰é’®
                if (availableStudents.length > 0) {
                    startBtn.disabled = false;
                } else {
                    resultText.textContent = "æ‰€æœ‰åŒå­¦éƒ½å·²ä¸­å¥–ï¼";
                }
            }, 5000); // 5ç§’å»¶è¿Ÿä¸CSSåŠ¨ç”»æŒç»­æ—¶é—´ä¸€è‡´
        }
        
        // ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        startBtn.addEventListener('click', startLottery);
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–è½¬ç›˜
        window.onload = initWheel;
    </script>
</body>
</html>